<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>ShortText</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="{{ url_for('static',filename='styles/main.css') }}" /> 
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		
	</head>
	<body class="is-preload">

		<!-- Sidebar -->
			<section id="sidebar">
				<div class="inner">
					<nav>
						<ul>
							<li><a href="#intro">ShortText </a></li>
							<li><a href="#three">Ferramenta</a></li>
						</ul>
					</nav>
				</div>
			</section>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Intro -->
					<section id="intro" class="wrapper style1 fullscreen fade-up">
						
						<div class="inner">
							<img src="{{url_for('static', filename='imgs/logo.png')}}" width="200px" height="auto">
							<h1>ShortText</h1>
							<p>Desenvolvido por alunos do MECAI-ICMC-USP</p>
							
						</div>
					</section>

			

				<!-- Three -->
					<section id="three" class="wrapper style1 fade-up">
						<div class="inner">
							<h2>Ferramenta</h2>
							<form name="csvimportdataform" id="csvimportdataform">
								<input 
									type="file" 
									name="csvfile" 
									id="csvfile" 
									class="form-control-file"
								/>
								<button
									type="submit"
									name="importdata" 
									id="importdata" 
									class="btn btn-info" 
								>Carregar arquivo</button>
							</form>
							
							<div class="split style2">
								<section>
																
									
									<select name="mymodel" id="mymodel">
											<option value="">- Selecione o modelo -</option>
											<option value="1">Bert </option>
											<option value="2">LSTM</option>
										
										</select>
										<Br>
									
									
									<div class="fields">
														
										<div class="field">
											<form >
												<label for="mytext">Insira seu texto abaixo:</label>
												<textarea id="mytext" name="mytext" cols="40" rows="5"></textarea>
												<br>
												<button type="button" class="button" onclick="sendText()">Analisar</button>
										    </form>
										</div>
										
									</div>
								</section>
								<section>
									<ul class="contact">
																					
											<div class="field" id="resultado">
												
												
											</div>						
									</ul>
								</section>
							</div>
						</div>
					</section>

			</div>

		<!-- Footer -->
			<footer id="footer" class="wrapper style1-alt">
				<div class="inner">
					<ul class="menu">
						<li>&copy; ICMC - USP</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="{{ url_for('static',filename='scripts/jquery.min.js') }}"></script> 
			
			<script src="{{ url_for('static',filename='scripts/jquery.scrollex.min.js') }}"></script> 
			<script src="{{ url_for('static',filename='scripts/jquery.scrolly.min.js') }}"></script> 
			<script src="{{ url_for('static',filename='scripts/browser.min.js') }}"></script> 
			<script src="{{ url_for('static',filename='scripts/breakpoints.min.js') }}"></script> 
			<script src="{{ url_for('static',filename='scripts/util.js') }}"></script> 
			<script src="{{ url_for('static',filename='scripts/main.js') }}"></script> 
		
			
			
			<script type="text/javascript">
			$("form[name='csvimportdataform']").submit(function (event) {
			  event.preventDefault();
			  const formData = new FormData($(this)[0]);
			  $.ajax({
				type: 'POST',
				url: '/upload-csv',
				data: formData,
				contentType: false,
				cache: false,
				processData: false,
				success: function(data) {
				  console.log("success");
				  $('#mytext').val(data);
				}
			  });
			});
			</script>
		
		<script>
        

        /*Send TextField*/
			function sendText(){
				$.post("/modelo", {
  				  mytext : $('textarea#mytext').val(),
				  mymodel: $("#mymodel option:selected").text()
					}, function(msg){
  					  $("#resultado").html(msg);
						})	
			}	
				
			</script>

	</body>
</html>